module.directive("format",["$filter",function(n){return{require:"?ngModel",link:function(t,i,r,u){u&&(u.$formatters.unshift(function(){return n(r.format)(u.$modelValue)}),u.$parsers.unshift(function(){return i.priceFormat({prefix:"",centsSeparator:".",thousandsSeparator:" "}),i[0].value}))}}}]),function(n){n.fn.priceFormat=function(t){var t=n.extend({prefix:"US$ ",suffix:"",centsSeparator:".",thousandsSeparator:",",limit:!1,centsLimit:2,clearPrefix:!1,clearSufix:!1,allowNegative:!1,insertPlusSign:!1},t);return this.each(function(){function k(n){for(var t="",i=0;i<n.length;i++)char_=n.charAt(i),t.length==0&&char_==0&&(char_=!1),char_&&char_.match(b)&&(l?t.length<l&&(t=t+char_):t=t+char_);return t}function d(n){while(n.length<r+1)n="0"+n;return n}function y(t){var i=d(k(t)),c="",y=0,a,l,v;if(r==0&&(o="",a=""),a=i.substr(i.length-r,r),l=i.substr(0,i.length-r),i=r==0?l:l+o+a,e||n.trim(e)!=""){for(v=l.length;v>0;v--)char_=l.substr(v-1,1),y++,y%3==0&&(char_=e+char_),c=char_+c;c.substr(0,1)==e&&(c=c.substring(1,c.length)),i=r==0?c:c+o+a}return s&&(l!=0||a!=0)&&(i=t.indexOf("-")!=-1&&t.indexOf("+")<t.indexOf("-")?"-"+i:h?"+"+i:""+i),u&&(i=u+i),f&&(i=i+f),i}function g(n){var t=n.keyCode?n.keyCode:n.which,e=String.fromCharCode(t),r=!1,u=i.val(),f=y(u+e);(t>=48&&t<=57||t>=96&&t<=105)&&(r=!0),t==8&&(r=!0),t==9&&(r=!0),t==13&&(r=!0),t==46&&(r=!0),t==37&&(r=!0),t==39&&(r=!0),s&&(t==189||t==109)&&(r=!0),h&&(t==187||t==107)&&(r=!0),r||(n.preventDefault(),n.stopPropagation(),u!=f&&i.val(f))}function c(){var n=i.val(),t=y(n);n!=t&&i.val(t)}function nt(){var n=i.val();i.val(u+n)}function tt(){var n=i.val();i.val(n+f)}function p(){if(n.trim(u)!=""&&a){var t=i.val().split(u);i.val(t[1])}}function w(){if(n.trim(f)!=""&&v){var t=i.val().split(f);i.val(t[0])}}var i=n(this),b=/[0-9]/,u=t.prefix,f=t.suffix,o=t.centsSeparator,e=t.thousandsSeparator,l=t.limit,r=t.centsLimit,a=t.clearPrefix,v=t.clearSuffix,s=t.allowNegative,h=t.insertPlusSign;h&&(s=!0),n(this).bind("keydown.price_format",g),n(this).bind("keyup.price_format",c),n(this).bind("focusout.price_format",c),a&&(n(this).bind("focusout.price_format",function(){p()}),n(this).bind("focusin.price_format",function(){nt()})),v&&(n(this).bind("focusout.price_format",function(){w()}),n(this).bind("focusin.price_format",function(){tt()})),n(this).val().length>0&&(c(),p(),w())})},n.fn.unpriceFormat=function(){return n(this).unbind(".price_format")},n.fn.unmask=function(){var t=n(this).val(),r="",i;for(i in t)isNaN(t[i])&&t[i]!="-"||(r+=t[i]);return r}}(jQuery);
//# sourceMappingURL=currencyMask.min.js.map
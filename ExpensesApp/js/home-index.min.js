var module=angular.module("homeIndex",["ngRoute"]);module.config(["$routeProvider",function(n){n.when("/",{controller:"expensesController",templateUrl:"/templates/expensesView.html"}),n.when("/newexpense",{controller:"newExpenseController",templateUrl:"/templates/newExpenseView.html"}),n.otherwise({redirectTo:"/"})}]),module.factory("dataService",["$http","$q",function(n,t){var i=[],f=function(r){var u=t.defer(),f="/api/v1/expenses";return r!=0&&(f=f+"?categoryId="+r),n.get(f).then(function(n){angular.copy(n.data,i),u.resolve()},function(){u.reject()}),u.promise},e=function(r){var u=t.defer();return n.post("/api/v1/expenses",r).then(function(n){var t=n.data;i.splice(0,0,t),u.resolve(t)},function(){u.reject()}),u.promise},r=[],u=!1,o=function(){return u},s=function(){var i=t.defer();return n.get("/api/v1/categories").then(function(n){angular.copy(n.data,r),u=!0,i.resolve()},function(){i.reject()}),i.promise};return{expenses:i,getExpenses:f,addExpense:e,categories:r,isReadyCategories:o,getCategories:s}}]);var expensesController=["$scope","$http","dataService",function(n,t,i){n.data=i,InitCategories(i),n.isBusy=!0,i.getExpenses(0).then(function(){},function(){alert("could not load expenses")}).then(function(){n.isBusy=!1}),n.selectedCategoryChange=function(){n.isBusy=!0,i.getExpenses(n.selectedCategoryId).then(function(){},function(){alert("could not load expenses")}).then(function(){n.isBusy=!1})}}],InitCategories=function(n){n.isReadyCategories()==!1&&n.getCategories().then(function(){},function(){alert("could not load categories")})},newExpenseController=["$scope","$http","$window","dataService",function(n,t,i,r){n.data=r,n.newExpense={},InitCategories(r),n.save=function(){r.addExpense(n.newExpense).then(function(){i.location="#/"},function(){alert("could not save new expense")})}}];
//# sourceMappingURL=home-index.min.js.map